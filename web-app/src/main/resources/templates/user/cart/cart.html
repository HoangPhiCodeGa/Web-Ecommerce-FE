<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gi·ªè H√†ng</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>ABCSZ Shop</title>
  <meta name="keywords" content="HTML5 Template">
  <meta name="description" content="Molla - Bootstrap eCommerce Template">
  <meta name="author" content="p-themes">
  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" th:href="@{/fe/images/icons/apple-touch-icon.png}">
  <link rel="icon" type="image/png" sizes="32x32" th:href="@{/fe/images/icons/favicon-32x32.png}">
  <link rel="icon" type="image/png" sizes="16x16" th:href="@{/fe/images/icons/favicon-16x16.png}">
  <link rel="manifest" th:href="@{/fe/images/icons/site.html}">
  <link rel="mask-icon" th:href="@{/fe/images/icons/safari-pinned-tab.svg}" color="#666666">
  <link rel="shortcut icon" th:href="@{/fe/images/icons/favicon.ico}">
  <meta name="apple-mobile-web-app-title" content="Molla">
  <meta name="application-name" content="Molla">
  <meta name="msapplication-TileColor" content="#cc9966">
  <meta name="msapplication-config" content="assets/images/icons/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
  <!-- Plugins CSS File -->
  <link rel="stylesheet" th:href="@{/fe/css/bootstrap.min.css}">
  <!-- Main CSS File -->
  <link rel="stylesheet" th:href="@{/fe/css/style.css}">
  <link rel="stylesheet" th:href="@{/fe/css/plugins/owl-carousel/owl.carousel.css}">
  <link rel="stylesheet" th:href="@{/fe/css/plugins/magnific-popup/magnific-popup.css}">
  <link rel="stylesheet" th:href="@{/fe/css/plugins/nouislider/nouislider.css}">
</head>

<body>
<div class="page-wrapper">
  <header class="header">
    <div class="header-top">
      <div class="container">
        <div class="header-left">
          <div class="header-dropdown">
            <a href="#">Usd</a>
            <div class="header-menu">
              <ul>
                <li><a href="#">Eur</a></li>
                <li><a href="#">Usd</a></li>
              </ul>
            </div><!-- End .header-menu -->
          </div><!-- End .header-dropdown -->

          <div class="header-dropdown">
            <a href="#">Eng</a>
            <div class="header-menu">
              <ul>
                <li><a href="#">English</a></li>
                <li><a href="#">French</a></li>
                <li><a href="#">Spanish</a></li>
              </ul>
            </div><!-- End .header-menu -->
          </div><!-- End .header-dropdown -->
        </div><!-- End .header-left -->

        <div class="header-right">
          <ul class="top-menu">
            <li>
              <a href="#">Links</a>
              <ul>
                <li><a href="tel:#"><i class="icon-phone"></i>Call: +0123 456 789</a></li>
                <li><a href="#"><i class="icon-heart-o"></i>Wishlist <span>(3)</span></a></li>
                <li><a href="#">About Us</a></li>
                <li><a th:href="@{/my-account/profile}">My Account</a></li>
                <li><a th:href="@{/my-account/profile}" data-toggle="modal"><i class="icon-user"></i><span th:text="${name}"></span></a></li>
              </ul>
            </li>
          </ul><!-- End .top-menu -->
        </div><!-- End .header-right -->
      </div><!-- End .container -->
    </div><!-- End .header-top -->

    <div class="header-middle sticky-header">
      <div class="container">
        <div class="header-right">
          <div class="header-search">
            <a href="#" class="search-toggle" role="button" title="Search"><i class="icon-search"></i></a>
            <form action="#" method="get">
              <div class="header-search-wrapper">
                <label for="q" class="sr-only">Search</label>
                <input type="search" class="form-control" name="q" id="q" placeholder="Search in..." required>
              </div><!-- End .header-search-wrapper -->
            </form>
          </div><!-- End .header-search -->
        </div><!-- End .header-right -->
      </div><!-- End .container -->
    </div><!-- End .header-middle -->
  </header><!-- End .header -->

  <!-- Gi·ªè H√†ng -->
  <div class="container my-5">
    <div class="d-flex justify-content-end mt-3">
      <a th:href="@{/}" class="btn btn-primary">Quay v·ªÅ trang ch·ªß</a>
    </div>
    <div class="row">
      <!-- Left Section: Cart Items -->
      <div class="col-lg-8">
        <div class="card mb-3">
          <div class="row g-0">
            <!-- Product Info: Loop through cart items -->
            <div th:each="cartItem : ${carts}" class="col-md-12">
              <div class="card-body">
                <div class="row">
                  <!-- Product Image -->
                  <div class="col-md-3">
                    <img th:src="@{'/images/'+${cartItem.sanPham.getHinhAnh()}}" alt="Product image" class="img-fluid rounded-start">
                  </div>
                  <!-- Product Details -->
                  <div class="col-md-9">
                    <h5 class="card-title" th:text="${cartItem.sanPham.getTenSP()}"></h5>
                    <p class="mb-1" th:text="'Gi√° : ' + ${cartItem.sanPham.giaBan } + 'ƒë'">M√¥ t·∫£:</p>
                    <p class="mb-1" th:text="'M√†u s·∫Øc : ' + ${cartItem.sanPham.thuocTinhSP.getMauSac()}">M√¥ t·∫£:</p>
                    <p class="mb-1" th:text="'Size :'+${cartItem.sanPham.thuocTinhSP.getKichCo()}">T√™n lo·∫°i :</p>
                    <p class="fw-bold" th:text="${cartItem.getDonGia()}"></p>

                    <!-- Update Quantity and Remove Buttons -->
                    <div class="d-flex align-items-center">
                      <!-- Quantity Input -->
                      <form th:action="@{/cart/update/{sanPhamId}(sanPhamId=${cartItem.sanPham.id})}" method="post" class="d-flex align-items-center">
                        <!-- N√∫t gi·∫£m s·ªë l∆∞·ª£ng -->
                        <button type="submit" name="action" value="decrement" class="btn btn-outline-secondary">-</button>

                        <!-- Hi·ªÉn th·ªã s·ªë l∆∞·ª£ng hi·ªán t·∫°i -->
                        <input type="number"  th:value="${cartItem.soLuong}" th:text="${cartItem.soLuong}" style="max-width: 50px;" readonly />

                        <!-- N√∫t tƒÉng s·ªë l∆∞·ª£ng -->
                        <button type="submit" name="action" value="increment" class="btn btn-outline-secondary">+</button>
                      </form>

                      <!-- Remove Button -->
                      <form th:action="@{/cart/remove/{sanPhamId}(sanPhamId=${cartItem.sanPham.id})}" method="post">
                        <button type="submit" class="btn btn-danger ms-2">üóëÔ∏è</button>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Section: Order Summary -->
      <div class="col-lg-4">
        <div class="card p-3">
          <h5 class="card-title">Gi·∫£m gi√°</h5>
          <p>ƒêƒÉng nh·∫≠p ƒë·ªÉ s·ª≠ d·ª•ng c√°c ∆∞u ƒë√£i c√° nh√¢n!</p>
          <button class="btn btn-outline-dark w-100 mb-3">ƒêƒÉng nh·∫≠p</button>
          <hr>
          <div class="d-flex justify-content-between">
            <p>Gi√° tr·ªã ƒë∆°n h√†ng</p>
            <p th:text="${totalAmount}"></p>
          </div>
          <div class="d-flex justify-content-between">
            <p>Ph√≠ giao h√†ng</p>
            <p th:text="${ship}" ></p>
          </div>
          <hr>
          <div class="d-flex justify-content-between fw-bold">
            <p>T·ªïng</p>
            <p th:text="${totalWithShip}"></p>
          </div>
          <a th:href="@{/checkout}"><button class="btn btn-dark w-100 mt-3">Ti·∫øp t·ª•c thanh to√°n</button></a>
        </div>
      </div>
    </div>
  </div>
</div>
<!--END Wappre-->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
